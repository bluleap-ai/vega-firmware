use heapless::Vec;


#[derive(Debug, Copy, Clone)]
pub struct Oaq2ndGenHandle {
    pub sample_cnt: u32,
    pub smooth_rmox: f32,
    pub gcda: f32,
    pub o3_conc_ppb: f32,
    pub o3_1h_ppb: f32,
    pub o3_8h_ppb: f32,
}

#[derive(Debug, Copy, Clone)]
pub struct Oaq2ndGenInputs {
    pub adc_result: [u8; 30],
    pub humidity_pct: f32,
    pub temperature_degc: f32,
}

#[derive(Debug, Copy, Clone)]
pub struct Oaq2ndGenResults {
    pub rmox: [f32; 8],
    pub o3_conc_ppb: f32,
    pub fast_aqi: u16,
    pub epa_aqi: u16,
}

#[derive(Debug, Clone)]
pub struct zmod_conf_str {
    pub addr: u8,
    pub len: u8,
    pub data: [u8; 30],
}

#[derive(Debug, Clone)]
pub struct zmod_conf {
    pub start: u8,
    pub h: zmod_conf_str,
    pub d: zmod_conf_str,
    pub m: zmod_conf_str,
    pub s: zmod_conf_str,
    pub r: zmod_conf_str,
}

impl zmod_conf_str {
    fn default() -> Self {
        zmod_conf_str {
            addr: 0x00,
            len: 0x00,
            data: [0; 30],
        }
    }
}

impl zmod_conf {
    pub fn default() -> Self {
        zmod_conf {
            start: 0x00,
            h: zmod_conf_str::default(),
            d: zmod_conf_str::default(),
            m: zmod_conf_str::default(),
            s: zmod_conf_str::default(),
            r: zmod_conf_str::default(),
        }
    }

    pub fn zmod4510() -> Self {
        zmod_conf {
            start: 0x80,
            h: zmod_conf_str {
                addr: 0x40,
                len: 10,
                data: [0; 30],
            },
            d: zmod_conf_str {
                addr: 0x50,
                len: 6,
                data: [
                    0x20, 0x05, 0xA0, 0x18, 0xC0, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            m: zmod_conf_str {
                addr: 0x60,
                len: 1,
                data: [
                    0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            s: zmod_conf_str {
                addr: 0x68,
                len: 30,
                data: [
                    0x00, 0x00, 0x00, 0x08, 0x00, 0x10, 0x00, 0x01, 0x00, 0x09, 0x00, 0x11, 0x00,
                    0x02, 0x00, 0x0A, 0x00, 0x12, 0x00, 0x03, 0x00, 0x0B, 0x00, 0x13, 0x00, 0x04,
                    0x00, 0x0C, 0x80, 0x14,
                ],
            },
            r: zmod_conf_str {
                addr: 0x97,
                len: 30,
                data: [
                    0x00, 0x00, 0x00, 0x08, 0x00, 0x10, 0x00, 0x01, 0x00, 0x09, 0x00, 0x11, 0x00,
                    0x02, 0x00, 0x0A, 0x00, 0x12, 0x00, 0x03, 0x00, 0x0B, 0x00, 0x13, 0x00, 0x04,
                    0x00, 0x0C, 0x80, 0x14,
                ],
            },
        }
    }

    pub fn zmod45xxi() -> Self {
        zmod_conf {
            start: 0x80,
            h: zmod_conf_str {
                addr: 0x40,
                len: 2,
                data: [
                    0x00, 0xA4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            d: zmod_conf_str {
                addr: 0x50,
                len: 2,
                data: [
                    0x00, 0xA4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            m: zmod_conf_str {
                addr: 0x60,
                len: 2,
                data: [
                    0xC3, 0xE3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            s: zmod_conf_str {
                addr: 0x68,
                len: 4,
                data: [
                    0x00, 0x00, 0x80, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
            r: zmod_conf_str {
                addr: 0x97,
                len: 4,
                data: [
                    0x00, 0x00, 0x80, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                    0x00, 0x00, 0x00, 0x00,
                ],
            },
        }
    }
}
